#--------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------
# Name: edo_demo_release
# Description: edo_demo_release
#--------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------------------------
#
# Begin edo_demo_release make targets
#
#--------------------------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------------------------
# setup
#--------------------------------------------------------------------------------------------------------------
# Build dependencies
#--------------------------------------------------------------------------------------------------------------
docker/edo_demo_release/setup: bazel/build
	if [ -d "build" ]; then rm -Rf build; fi && mkdir build
	cp bazel-bin/cpp/apps/smoke_test/src/smoke_test build/smoke_test


#--------------------------------------------------------------------------------------------------------------
# build
#--------------------------------------------------------------------------------------------------------------
# Build the edo_demo_release docker image
#--------------------------------------------------------------------------------------------------------------
docker/edo_demo_release/build: docker/edo_demo_base/build docker/edo_demo_release/setup
	docker build -f docker/edo_demo_release/edo_demo_release.Dockerfile -t edo_demo_release:0.0.0 .

#--------------------------------------------------------------------------------------------------------------
# run
#--------------------------------------------------------------------------------------------------------------
# Run to the edo_demo_release docker image
#--------------------------------------------------------------------------------------------------------------
docker/edo_demo_release/run: docker/edo_demo_release/build
	docker run -it --entrypoint /bin/bash edo_demo_release:0.0.0


#--------------------------------------------------------------------------------------------------------------
#
# End edo_demo_release make targets
#
#--------------------------------------------------------------------------------------------------------------
